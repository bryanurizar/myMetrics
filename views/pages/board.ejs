<!DOCTYPE html>
<html>
  <head>
    <title>Board | myMetrics</title>
    <%- include('../partials/head'); %>
  </head>
  <body>
    <%- include('../partials/header'); %>

    <section id="target-list">
      <button id="btn" class="create-list">Select Target Items</button>
    </section>

    <section id="board">
      <% lists.forEach(list => { %>
      <div class="todo-list-container">
        <div class="list-header">
          <h4 class="list-name" contenteditable><%= list.listname %></h4>
          <h4 id="<%= list.listid%>" class="list-popup">...</h4>
          <div id="modal-<%=list.listid%>" class="modal">
            <h4 id="modal-title"><span>List Actions</span></h4>
            <p id="<%= list.listid%>" class="delete-list">Delete This List..</p>
          </div>
        </div>
        <div id="todo-list-<%= list.listid%>" class="items">
          <% items.forEach(item => { %> <% if (item.listid === list.listid) { %>
          <div id="card-<%= item.itemID %>" class="todo-card" draggable="true">
            <div class="todo-content">
              <input type="checkbox" />
              <p class="todo-description"><%= item.itemname %></p>
              <br />
              <div class="flaticons">
                <img class="edit" src="../../img/edit.svg" />
                <img class="trash" src="../../img/trash.svg" />
              </div>
            </div>
          </div>
          <% } %> <% }); %>
        </div>
        <input
          id="<%= list.listid %>"
          name="itemName"
          class="add-card"
          type="text"
          autocomplete="off"
          placeholder="Add new card.."
        />
      </div>
      <% }); %>

      <div>
        <input
          name="newList"
          type="text"
          class="add-list"
          placeholder="Add new list"
        />
      </div>
    </section>

    <script type="module" src="/javascript/board.js" async defer></script>
  </body>
</html>
