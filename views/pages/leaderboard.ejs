<!DOCTYPE html>
<html>
  <head>
    <title>Leaderboard | myMetrics</title>
    <%- include('../partials/head'); %>
    <link rel="stylesheet" href="/css/header.css" class="css" />
    <link rel="stylesheet" href="/css/leaderboard.css">
  </head>
  <body>
    <%- include('../partials/header');%>

    <section id="leaderboard-section">
      <h2 id="leaderboard-title">Global Leaderboard</h2>
      <h3 id="leaderboard-rank"> Position: <%= userRank%> <span id="rank-emoji">ðŸŽ¯</span></h3>
      <div id="leaderboard-table">
        <header>
          <div class="rank">Rank</div>
          <div class="username">User</div>
          <div class="time">Time</div>
        </header>
        
        <div id="leaderboard-rows">
          <% results.forEach((result, rank) => { %>
          <div class="row">
            <div class="rank"><%=rank + 1%></div>
            <div class="username">
              <img src="<%=result.userimage%>" alt="" />
              <div>
                <%=`${result.firstname} ${result.lastname.substring(0, 1)}.`%>
              </div>
            </div>
            <div class="time total-time"><%= result.boardstudytime%> </div>
          </div>
          <% }) %>
        </div>
        </div>
      </div>
    </section>
  </body>
</html>